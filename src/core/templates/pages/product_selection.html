{% load static %}
<!DOCTYPE html>
<html>
<head>
    <script src="https://js.stripe.com/v3/"></script>
    <!-- <link rel="stylesheet" href="{% static 'app.css' %}"> -->
    <title>Product Section</title>
    <style>
    #paymentButton {
        display: block !important;
        margin-top: 20px;
        padding: 10px;
        background-color: #4CAF50;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 18px;
    }

    .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
    }

    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 34px;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }

    input:checked + .slider {
        background-color: #4CAF50;
    }

    input:checked + .slider:before {
        transform: translateX(26px);
    }
    </style>
</head>
<body>
    <h1>2 Select Certificates</h1>
    <ul id="product-list">
        {% for certificate in certificates %}
            {% if certificate.name == "Section 10.7(2) Certificate" %}
                <input type="radio" name="certificate_10_7" id="product-10.7.2" value="{{ certificate.id }}" data-name="{{ certificate.name }}" data-price="{{ certificate.price }}">
                <label for="certificate-{{ certificate.id }}">
                    {{ certificate.name }} &nbsp;&nbsp;&nbsp;&nbsp; {% if certificate.price %}${{ certificate.price|floatformat:2 }}{% else %}Price not available{% endif %} <br>
                    <small> {{ certificate.description }} </small> <br>
                </label>
            {% endif %}
        {% endfor %}
    </ul>
    <br>
    or
    <br>
    <br>

    <ul id="product-list">
        {% for certificate in certificates %}
            {% if certificate.name == "Section 10.7(5) Certificate" %}
                <input type="radio" name="certificate_10_7" id="product-10.7.5" value="{{ certificate.id }}" data-name="{{ certificate.name }}" data-price="{{ certificate.price }}">
                <label for="certificate-{{ certificate.id }}">
                    {{ certificate.name }} &nbsp;&nbsp;&nbsp;&nbsp; {% if certificate.price %}${{ certificate.price|floatformat:2 }}{% else %}Price not available{% endif %} <br>
                    <small> {{ certificate.description }} </small> <br>
                </label>
            {% endif %}
        {% endfor %}
    </ul>

        <br>
        <br>
        <label class="switch">
            <input type="checkbox" name="urgent_10_7">
            <span class="slider round"></span>
        </label> 
        {% for fee in fees %}
            {% if fee.name == "Urgent 24 hour turnaround" %}
                    <span data-fee-name="fee-{{ fee.name }}" data-fee-price="{{ fee.price }}"></span>
                    {{ fee.name }} &nbsp;&nbsp;&nbsp;&nbsp; {% if fee.price %}${{ fee.price|floatformat:2 }}{% else %}Price not available{% endif %}
                    </span>
                {% endif %}
            {% endfor %}
        <br>
        <br>
        <ul>
            {% for certificate in certificates %}
                {% if certificate.name == "Section 603 Certificate" %}
                <input type="radio" name="certificate_603" id="certificate-603" value="{{ certificate.id }}" data-name="{{ certificate.name }}" data-price="{{ certificate.price }}">
                <label for="certificate-{{ certificate.id }}">
                    {{ certificate.name }} &nbsp;&nbsp;&nbsp;&nbsp; {% if certificate.price %}${{ certificate.price|floatformat:2 }}{% else %}Price not available{% endif %} <br>
                    <small> {{ certificate.description }} </small>
                </label>
            {% endif %}
        {% endfor %}
        </ul>
        <br>
        <label class="switch">
            <input type="checkbox" name="urgent_603">
            <span class="slider round"></span>
        </label>
        {% for fee in fees %}
        {% if fee.name == "Urgent 24 hour turnaround" %}
                <span data-fee-name="fee-{{ fee.name }}" data-fee-price="{{ fee.price }}"></span>
                {{ fee.name }} &nbsp;&nbsp;&nbsp;&nbsp; {% if fee.price %}${{ fee.price|floatformat:2 }}{% else %}Price not available{% endif %}
                </span>
            {% endif %}
        {% endfor %}
        <h1>3 Your Details</h1>
        <small> 
            example corp pty ltd
            <br>
            John Smith
        </small>
    <h1>4 Finalise Payment</h1>
    <div class="panel" id="paymentPanel">
        <div id="orderSummary"></div>
        <button id="paymentButton">Pay Now</button>
    </div>
    <script>var createCheckoutSessionUrl = "{% url 'create_checkout_session' %}";</script>
    <script src="{% static 'js/updateOrderSummary.js' %}"></script>
</body>
</html>